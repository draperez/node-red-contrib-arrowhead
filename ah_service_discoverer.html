<script type="text/javascript">
  RED.nodes.registerType('ah service discoverer', {
    category: 'network',
    color: '#d1eae7',
    defaults: {
      orchestrator: { value: "", type: "ah orchestrator", required: true },
      requesterSystem: { value: "", type: "ah system", required: true },
      serviceDefinition: { value: "", required: true },
      method: { value: "get", required: true },
      protocol: {value: "http", required: true}
    },
    inputs: 1,
    outputs: 1,
    icon: 'icons/arrowhead_logo_blue.svg',
    label: function () {
      return this.name || "Arrowhead Service Consumer";
    }
  });
</script>

<script type="text/html" data-template-name="ah service discoverer">

  <div class="form-row">
    <label for="node-input-orchestrator"><i class="icon-tag"></i> Arrowhead Orchestrator</label>
    <input type="text" id="node-input-orchestrator" placeholder="">
  </div>

  <div class="form-row">
    <label for="node-input-requesterSystem"><i class="icon-tag"></i> Requester System</label>
    <input type="text" id="node-input-requesterSystem" placeholder="">
  </div>

  <div class="form-row">
    <label for="node-input-serviceDefinition"><i class="icon-tag"></i> Service Definition</label>
    <input type="text" id="node-input-serviceDefinition" placeholder="Service Definition">
  </div>

  <div class="form-row">
      <label for="node-input-name"><i class="icon-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Node Name"/>
  </div>

  <div class="form-row">
    <label for="node-input-method"><i class="fa fa-tasks"></i> Method</span></label>
    <select id="node-input-method" style="width:70%;">
      <option value="get">GET</option>
      <option value="post">POST</option>
      <option value="put">PUT</option>
      <option value="delete">DELETE</option>
      <option value="patch">PATCH</option>
    </select>
  </div>
  
  <div class="form-row">
    <label for="node-input-protocol"><i class="fa fa-tasks"></i> Protocol</label>
    <select type="text" id="node-input-protocol" style="width:70%;">
      <option value="http">HTTP</option>
      <option value="https">HTTPS</option>
    </select>
  </div>
</script>

<script type="text/html" data-help-name="ah service discoverer">
    <p>Prepares the URL for an HTTP request, using the given Arrowhead Orchestrator and <b>Service Definition</b>.</p>
    <p>It is designed to be followed by an <b>http request</b> node.</p>
</script>